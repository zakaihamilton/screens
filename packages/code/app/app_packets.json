{
    "title": "Packets",
    "ui.property.style": {
        "left": "450px",
        "top": "250px",
        "width": "600px",
        "height": "450px"
    },
    "widget.menu.items": [
        ["Options", [
                ["Refresh", "app.packets.refreshData"],
                ["Auto Refresh", "app.packets.autoRefresh", {
                        "state": "select"
                    }
                ],
                ["Reset", "app.packets.reset", {
                        "separator": true
                    }
                ],
                ["Auto Increase Packet Delay", "app.packets.autoIncreasePacketDelay", {
                        "state":"select",
                        "separator": true
                    }
                ],
                ["Push Packets", "app.packets.pushPackets", {
                        "state":"select",
                        "separator": true
                    }
                ]
            ]
        ],
        ["Data", [
                ["Refresh", "app.packets.refreshDataList"],
                ["Live", "app.packets.dataProfile", {
                        "state": "select",
                        "separator": true
                    }
                ],
                "app.packets.dataMenuList",
                ["Save", "app.packets.save", {
                        "enabled": "select",
                        "separator": true
                    }]
            ]
        ],
        ["View", [
                ["Auto", "app.packets.viewType", {
                        "state": "select"
                    }
                ],
                ["Data / Time", "app.packets.viewType", {
                        "state": "select",
                        "separator": true
                    }
                ],
                ["ABR / Packet Delay", "app.packets.viewType", {
                        "state": "select"
                    }
                ]
            ]
        ]
    ],
    "ui.basic.elements": [
        {
            "ui.basic.tag": "div",
            "ui.property.style": {
                "display": "flex",
                "margin": "10px",
                "flexWrap": "wrap",
                "alignItems": "flex-start"
            },
            "ui.basic.elements": [
                {
                    "ui.basic.tag": "div",
                    "ui.basic.elements": [
                        {
                            "ui.basic.text": "Title",
                            "ui.property.style": {
                                "paddingTop": "10px"
                            }
                        },
                        {
                            "ui.basic.text": "",
                            "ui.property.style": {
                                "width": "250px"
                            },
                            "ui.basic.type": "text",
                            "ui.basic.var": "title",
                            "ui.property.after": {
                                "storage.cache.key": "@ui.cachekey.app-packets-input-",
                                "storage.cache.restore": "ui.basic.text"
                            }
                        }
                    ]
                },
                {
                    "ui.basic.tag": "div",
                    "ui.basic.elements": [
                        {
                            "ui.basic.text": "Packet Count",
                            "ui.property.style": {
                                "paddingTop": "10px"
                            }
                        },
                        {
                            "ui.basic.text": "",
                            "ui.basic.readOnly": true,
                            "ui.property.style": {
                                "width": "250px",
                                "display": "inline-block"
                            },
                            "ui.basic.type": "text",
                            "ui.basic.var": "packetCount"
                        }
                    ]
                },
                {
                    "ui.basic.tag": "div",
                    "ui.basic.elements": [
                        {
                            "ui.basic.text": "Data Size",
                            "ui.property.style": {
                                "paddingTop": "10px"
                            }
                        },
                        {
                            "ui.basic.text": "",
                            "ui.basic.readOnly": true,
                            "ui.property.style": {
                                "width": "250px"
                            },
                            "ui.basic.type": "text",
                            "ui.basic.var": "dataSize"
                        }
                    ]
                },
                {
                    "ui.basic.tag": "div",
                    "ui.basic.elements": [
                        {
                            "ui.basic.text": "Average Bit Rate",
                            "ui.property.style": {
                                "paddingTop": "10px"
                            }
                        },
                        {
                            "ui.basic.text": "",
                            "ui.basic.readOnly": true,
                            "ui.property.style": {
                                "width": "250px"
                            },
                            "ui.basic.type": "text",
                            "ui.basic.var": "abr"
                        }
                    ]
                },
                {
                    "ui.basic.tag": "div",
                    "ui.basic.elements": [
                        {
                            "ui.basic.text": "Packet Loss (%)",
                            "ui.property.style": {
                                "paddingTop": "10px"
                            }
                        },
                        {
                            "ui.basic.text": "",
                            "ui.property.style": {
                                "width": "250px"
                            },
                            "ui.basic.type": "number",
                            "ui.basic.var": "packetLoss",
                            "ui.attribute.step": "0.0001",
                            "ui.monitor.change": "app.packets.applyEffects",
                            "ui.attribute.list": "packetLoss"
                        },
                        {
                            "ui.basic.tag": "datalist",
                            "ui.basic.elementId": "packetLoss",
                            "ui.group.data": {
                                "ui.data.keyList": ["ui.attribute.value"],
                                "ui.data.default": {
                                    "ui.basic.tag": "option"
                                },
                                "ui.data.values": [
                                    ["0.0001"],
                                    ["0.001"],
                                    ["0.1"],
                                    ["1"]
                                ]
                            }
                        }
                    ]
                },
                {
                    "ui.basic.tag": "div",
                    "ui.basic.elements": [
                        {
                            "ui.basic.text": "Packet Delay (msec)",
                            "ui.property.style": {
                                "paddingTop": "10px"
                            }
                        },
                        {
                            "ui.basic.text": "0",
                            "ui.property.style": {
                                "width": "250px"
                            },
                            "ui.attribute.min": "0",
                            "ui.attribute.step": "5",
                            "ui.attribute.max": "1000",
                            "ui.basic.type": "number",
                            "ui.basic.var": "packetDelay",
                            "ui.monitor.change": "app.packets.applyEffects"
                        }
                    ]
                },
                {
                    "ui.basic.tag": "div",
                    "ui.basic.elements": [
                        {
                            "ui.basic.text": "Duration",
                            "ui.property.style": {
                                "paddingTop": "10px"
                            }
                        },
                        {
                            "ui.basic.text": "",
                            "ui.basic.readOnly": true,
                            "ui.property.style": {
                                "width": "250px"
                            },
                            "ui.basic.type": "text",
                            "ui.basic.var": "duration"
                        }
                    ]
                },
                {
                    "ui.basic.tag": "div",
                    "ui.basic.elements": [
                        {
                            "ui.basic.text": "Stream Count",
                            "ui.property.style": {
                                "paddingTop": "10px"
                            }
                        },
                        {
                            "ui.basic.text": "",
                            "ui.basic.readOnly": true,
                            "ui.property.style": {
                                "width": "250px"
                            },
                            "ui.basic.type": "text",
                            "ui.basic.var": "streamCount"
                        }
                    ]
                },
                {
                    "ui.basic.tag": "div",
                    "ui.basic.elements": [
                        {
                            "ui.basic.text": "Stream",
                            "ui.property.style": {
                                "paddingTop": "10px"
                            }
                        },
                        {
                            "ui.basic.text": "Combined",
                            "ui.style.width": "250px",
                            "ui.basic.var":"streamIndex",
                            "core.link.onChange": "app.packets.onChangeStream",
                            "ui.element.count": 0,
                            "ui.group.data": {
                                "ui.data.keyList": ["ui.basic.text"],
                                "ui.data.default": {
                                    "group": "one",
                                    "state": false
                                },
                                "ui.data.values": [
                                    ["Combined"],
                                    ["Last"],
                                    "core.number.fillArray(1-@app.packets.streamRequestCount)"
                                ]
                            }
                        }
                    ]
                }
            ]
        },
        {
            "ui.element.component": "widget.chart",
            "ui.basic.var": "chart",
            "ui.style.paddingLeft":"10%",
            "ui.style.width": "75%",
            "data": "@app.packets.chartData",
            "options":"@app.packets.chartOptions",
            "type":"@app.packets.chartType",
            "info": {}
        }
    ],
    "app.packets.refreshData": null,
    "app.packets.onChangeStream":null,
    "ui.property.after": {
        "storage.cache.key": "app-packets-window",
        "storage.cache.restore": "widget.window.store"
    }
}
